"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var mapper_1 = require("../../mapper");
var error_util_1 = require("../../error-util");
function unsafeOr() {
    var arr = [];
    for (var _i = 0; _i < arguments.length; _i++) {
        arr[_i] = arguments[_i];
    }
    if (arr.length == 0) {
        throw new Error("Cannot call unsafeOr() on zero mappers");
    }
    return mapper_1.copyRunTimeModifier(arr[0], function (name, mixed) {
        var unionErrors = [];
        for (var _i = 0, arr_1 = arr; _i < arr_1.length; _i++) {
            var d = arr_1[_i];
            var elementResult = mapper_1.tryMapHandled(d, name, mixed);
            if (elementResult.success) {
                return elementResult.value;
            }
            else {
                unionErrors.push(elementResult.mappingError);
            }
        }
        throw error_util_1.makeNormalizedUnionError(name, mixed, unionErrors);
    });
}
exports.unsafeOr = unsafeOr;
function or(f) {
    var arr = [];
    for (var _i = 1; _i < arguments.length; _i++) {
        arr[_i - 1] = arguments[_i];
    }
    return unsafeOr.apply(void 0, [f].concat(arr));
}
exports.or = or;
/*
or(
    (null as unknown as ((() => 1) & ExpectedInput<number>)),
    (null as unknown as ((() => 2) & ExpectedInput<string>)),
    (null as unknown as ((() => 3) & ExpectedInput<boolean>))
).__accepts
*/ 
//# sourceMappingURL=or.js.map