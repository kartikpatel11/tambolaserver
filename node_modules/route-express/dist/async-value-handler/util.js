"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var tm = require("type-mapping");
function toSafeRequestVoidHandler(handler) {
    return function (req, res, next) {
        handler(req, res)
            .then(function (nextLocals) {
            res.locals = tm.TypeUtil.deepMerge(res.locals, nextLocals);
            next();
        })
            .catch(next);
    };
}
exports.toSafeRequestVoidHandler = toSafeRequestVoidHandler;
function toSafeErrorVoidHandler(handler) {
    return function (err, req, res, next) {
        handler(err, req, res)
            .then(function (nextLocals) {
            res.locals = tm.TypeUtil.deepMerge(res.locals, nextLocals);
            next();
        })
            .catch(next);
    };
}
exports.toSafeErrorVoidHandler = toSafeErrorVoidHandler;
//# sourceMappingURL=util.js.map